<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carrito de Compras | History Keepers</title>
  <meta name="description" content="Revisa y gestiona los productos que has agregado a tu carrito de compras.">
  <link rel="icon" href="/assets/logo.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/carrito/carrito.css" />
</head>
<body>
  <header class="topbar">
    <div class="container wrap">
      <a href="/index.html" aria-label="Volver al inicio" style="line-height:0;">
        <img src="/assets/logo.png" alt="Logo History Keepers" class="logo" />
      </a>
      <div class="actions">
        <a href="/carrito/carrito.html" class="cart-icon" aria-label="Ir al carrito de compras">üõí</a>
        <button class="btn top-btn" data-open="login">Login</button>
        <button class="btn top-btn" data-open="register">Registrarse</button>
      </div>
    </div>
  </header>

  <main class="container">
    <nav class="small breadcrumb">
      <div class="crumbs">
        <a href="/index.html" class="small">Inicio</a> &nbsp;/&nbsp; <span>Carrito</span>
      </div>
      <a href="#" id="go-back" class="small back-link">‚Üê Regresar</a>
    </nav>

    <section class="cart-page" style="padding:20px 0 50px;">
      <h2>üõí Tu Carrito de Compras</h2>

      <div id="cart-empty" class="card" style="margin-top:20px;" hidden>
        <p>Tu carrito est√° vac√≠o.</p>
        <p style="margin-top:15px;"><a href="/comprador/comprador.html" class="btn">‚Üê Continuar comprando</a></p>
      </div>

      <div class="cart-layout">
        <div id="cart-items-container" class="cart-items"></div>

        <div id="cart-summary" class="cart-summary">
          <div class="card" style="position: sticky; top: 90px;">
            <h3 id="summary-title">Resumen del Pedido</h3>

            <div id="step-summary" class="checkout-step">
              <div class="summary-row">
                <span>Subtotal <span id="summary-count">(0 art√≠culos)</span></span>
                <strong id="summary-subtotal">$0</strong>
              </div>
              <div class="summary-row">
                <span>Env√≠o (Est√°ndar)</span>
                <strong id="summary-shipping">$150</strong>
              </div>
              <div class="summary-total">
                <span>Total</span>
                <span id="summary-total">$150</span>
              </div>
              <button id="btn-to-address" class="btn btn-primary" style="width:100%; margin-top:30px;">
                Continuar a Direcci√≥n
              </button>
            </div>

            <div id="step-address" class="checkout-step" hidden>
              <form id="address-form" class="checkout-form" novalidate>
                <label for="addr-calle">Direcci√≥n de Env√≠o</label>
                <input id="addr-calle" name="addr-calle" class="input" type="text" placeholder="Calle y N√∫mero" required>

                <label for="addr-colonia">Colonia</label>
                <input id="addr-colonia" name="addr-colonia" class="input" type="text" placeholder="Colonia / Municipio" required>

                <div class="form-grid">
                  <div>
                    <label for="addr-ciudad">Ciudad</label>
                    <input id="addr-ciudad" name="addr-ciudad" class="input" type="text" placeholder="Ciudad" required>
                  </div>
                  <div>
                    <label for="addr-cp">C.P.</label>
                    <input id="addr-cp" name="addr-cp" class="input" type="text" placeholder="C.P." maxlength="5" inputmode="numeric" required>
                  </div>
                </div>

                <button id="btn-to-payment" type="button" class="btn btn-primary" style="width:100%; margin-top:20px;">
                  Continuar a Pago
                </button>
              </form>
            </div>

            <div id="step-payment" class="checkout-step" hidden>
              <form id="payment-form" class="checkout-form" novalidate>
                <label for="pay-nombre">Nombre en la tarjeta</label>
                <input id="pay-nombre" class="input" type="text" placeholder="Como aparece en la tarjeta" required>

                <label for="pay-tarjeta">N√∫mero de tarjeta</label>
                <input id="pay-tarjeta" class="input" type="text" placeholder="#### #### #### ####" maxlength="19" inputmode="numeric" required>

                <div class="form-grid">
                  <div>
                    <label for="pay-exp">Vencimiento (MM/AA)</label>
                    <input id="pay-exp" class="input" type="text" placeholder="MM/AA" maxlength="5" required>
                  </div>
                  <div>
                    <label for="pay-cvv">CVV</label>
                    <input id="pay-cvv" class="input" type="text" placeholder="CVV" maxlength="4" inputmode="numeric" required>
                  </div>
                </div>

                <button id="btn-pay" type="button" class="btn btn-primary" style="width:100%; margin-top:20px;">
                  Pagar ahora
                </button>
              </form>
            </div>

            <div id="step-confirmation" class="checkout-step" hidden>
              <p>¬°Gracias por tu compra! Te enviaremos un correo con los detalles.</p>
              <p style="margin-top:15px;"><a href="/index.html" class="btn">Volver al inicio</a></p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container small">¬© <span id="y"></span> History Keepers</div>
  </footer>

  <dialog id="dlg-register" class="modal">
    <form method="dialog" class="card modal-card modal-card-dark" id="register-form">
      <img src="/assets/logo.png" alt="Logo History Keepers" class="modal-logo" />
      <h2>Crea tu cuenta</h2>
      <p class="modal-subtitle">Reg√≠strate para acceder a todas las funciones.</p>

      <label for="reg-nombre">Nombre Completo</label>
      <input class="input" type="text" id="reg-nombre" name="nombre" required />

      <label for="reg-email">Correo Electr√≥nico</label>
      <input class="input" type="email" id="reg-email" name="email" required />

      <label for="reg-password">Contrase√±a</label>
      <input class="input" type="password" id="reg-password" name="password" required />

      <button type="submit" class="btn btn-primary">Crear Cuenta</button>
      <p class="modal-link">¬øYa tienes una cuenta? <a href="#" data-switch="login">Inicia sesi√≥n</a></p>
    </form>
  </dialog>

  <dialog id="dlg-login" class="modal">
    <form method="dialog" class="card modal-card modal-card-dark" id="login-form">
      <img src="/assets/logo.png" alt="Logo History Keepers" class="modal-logo" />
      <h2>Bienvenido</h2>
      <p class="modal-subtitle">Inicia sesi√≥n para continuar.</p>

      <label for="log-email">Correo Electr√≥nico</label>
      <input class="input" type="email" id="log-email" name="email" required />

      <label for="log-password">Contrase√±a</label>
      <input class="input" type="password" id="log-password" name="password" required />

      <button type="submit" class="btn btn-primary">Entrar</button>
      <p class="modal-link">¬øNo tienes cuenta? <a href="#" data-switch="register">Reg√≠strate aqu√≠</a></p>
    </form>
  </dialog>

  <div id="toast-notification" class="toast"></div>

  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
  <script src="/carrito/carrito.js"></script>
</body>
</html>