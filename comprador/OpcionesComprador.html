<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi Cuenta - History Keepers</title>
  
  <link rel="stylesheet" href="OpcionesComprador.css"> 
  
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>
  <div class="inv-layout">
    <aside class="inv-sidebar">
      <div class="inv-sidebar__header">
        <span class="inv-logo">HK</span>
        <h2 class="inv-appname">Mi Cuenta</h2>
      </div>

      <nav class="inv-nav">
        <a href="#" class="inv-nav__item active" data-tab="perfil">
          <i class="fa-solid fa-user-pen"></i> Perfil
        </a>
        <a href="#" class="inv-nav__item" data-tab="direcciones">
          <i class="fa-solid fa-map-location-dot"></i> Direcciones
        </a>
        <a href="#" class="inv-nav__item" data-tab="pagos">
          <i class="fa-solid fa-credit-card"></i> Métodos de Pago
        </a>
        <a href="#" class="inv-nav__item" data-tab="pedidos">
          <i class="fa-solid fa-box-open"></i> Mis Pedidos
        </a>
      </nav>

      <div class="inv-sidebar__footer">
        <a href="/comprador/comprador.html" class="inv-nav__item inv-nav__item--muted">
          <i class="fa-solid fa-store"></i> Volver a la Tienda
        </a>
      </div>
    </aside>

    <main class="inv-main">

      <div id="loader" class="inv-card" style="padding: 40px; text-align: center; color: var(--muted);">
        <p style="font-size: 1.1em;">Cargando tu información...</p>
      </div>

      <div id="tab-perfil" class="tab-content hidden">
        <section class="inv-card">
          <div class="inv-card__head">
            <div class="inv-card__title">
              <h2>Información Personal</h2>
            </div>
          </div>
          <div class="inv-card__body" style="padding: 20px;">
            <form id="profile-form" class="grid">
              <label class="grid-span-2">Nombre Completo
                <input id="profile-nombre" name="nombre" class="input" type="text" required>
              </label>
              <label>Email
                <input id="profile-email" name="email" class="input" type="email" required>
              </label>
              <label>Teléfono (Opcional)
                <input id="profile-telefono" name="telefono" class="input" type="tel" placeholder="Ej. 2281234567">
              </label>
            </form>
          </div>
          <div class="modal__foot">
            <button id="save-profile" class="btn btn--primary">Guardar Cambios</button>
          </div>
        </section>
        <section class="inv-card" style="margin-top: 20px;">
          <div class="inv-card__head">
            <div class="inv-card__title">
              <h2>Cambiar Contraseña</h2>
            </div>
          </div>
          <div class="inv-card__body" style="padding: 20px;">
            <form id="password-form" class="grid">
              <label>Nueva Contraseña
                <input id="pass-new" name="newPassword" class="input" type="password" required minlength="6">
              </label>
              <label>Confirmar Nueva Contraseña
                <input id="pass-confirm" name="confirmPassword" class="input" type="password" required minlength="6">
              </label>
            </form>
          </div>
          <div class="modal__foot">
            <button id="save-password" class="btn btn--primary">Actualizar Contraseña</button>
          </div>
        </section>
      </div>

      <div id="tab-direcciones" class="tab-content hidden">
        <section class="inv-card">
          <div class="inv-card__head">
            <div class="inv-card__title">
              <h2>Mis Direcciones Guardadas</h2>
            </div>
            <div class="inv-actions">
              <button id="btnNewAddress" class="btn btn--success"><i class="fa-solid fa-plus"></i> Nueva Dirección</button>
            </div>
          </div>
          <div class="inv-tablewrap">
            <table class="inv-table" id="address-table">
              <thead>
                <tr>
                  <th>Alias</th>
                  <th>Dirección</th>
                  <th>Ciudad</th>
                  <th>C.P.</th>
                  <th style="width:100px; text-align:right;">Acciones</th>
                </tr>
              </thead>
              <tbody id="address-tbody">
                </tbody>
            </table>
          </div>
        </section>
      </div>

      <div id="tab-pagos" class="tab-content hidden">
        <section class="inv-card">
          <div class="inv-card__head">
            <div class="inv-card__title">
              <h2>Mis Métodos de Pago</h2>
            </div>
            <div class="inv-actions">
              <button id="btnNewPayment" class="btn btn--success"><i class="fa-solid fa-plus"></i> Nuevo Método</button>
            </div>
          </div>
          
          <div class="inv-tablewrap">
            <table class="inv-table" id="payment-table">
              <thead>
                <tr>
                  <th>Alias</th>
                  <th>Titular</th>
                  <th>Número (simulado)</th>
                  <th>Expira</th>
                  <th style="width:100px; text-align:right;">Acciones</th>
                </tr>
              </thead>
              <tbody id="payment-tbody">
                </tbody>
            </table>
          </div>
          
        </section>
      </div>
      
      <div id="tab-pedidos" class="tab-content hidden">
        <section class="inv-card">
          <div class="inv-card__head">
            <div class="inv-card__title">
              <h2>Mis Pedidos</h2>
            </div>
          </div>
          <div class="inv-tablewrap">
            <table class="inv-table" id="orders-table">
              <thead>
                <tr>
                  <th>N° Pedido</th>
                  <th>Fecha</th>
                  <th>Total</th>
                  <th>Estatus</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="orders-tbody">
                </tbody>
            </table>
          </div>
        </section>
      </div>

    </main>
  </div>

  <dialog id="modalAddressForm" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal__dialog inv-card" style="width: min(600px, 96vw);">
      <div class="modal__head">
        <h3 id="address-form-title">Nueva Dirección</h3>
        <button class="modal__close" data-close-address>&times;</button>
      </div>
      <div class="modal__body">
        <form id="address-form" class="grid">
          <input type="hidden" id="address-id">
          <label class="grid-span-2">Alias (Ej. "Casa", "Oficina")
            <input id="addr-alias" name="alias" class="input" required>
          </label>
          <label class="grid-span-2">Calle y Número
            <input id="addr-calle" name="calle" class="input" required>
          </label>
          <label>Colonia
            <input id="addr-colonia" name="colonia" class="input" required>
          </label>
          <label>Ciudad
            <input id="addr-ciudad" name="ciudad" class="input" required>
          </label>
          <label class="grid-span-2">Código Postal (C.P.)
            <input id="addr-cp" name="cp" class="input" required maxlength="5" inputmode="numeric">
          </label>
        </form>
      </div>
      <div class="modal__foot">
        <button class="btn" data-close-address>Cancelar</button>
        <button id="save-address" class="btn btn--primary">Guardar Dirección</button>
      </div>
    </div>
  </dialog>

  <dialog id="modalPaymentForm" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal__dialog inv-card" style="width: min(600px, 96vw);">
      <div class="modal__head">
        <h3 id="payment-form-title">Nuevo Método de Pago</h3>
        <button class="modal__close" data-close-payment>&times;</button>
      </div>
      <div class="modal__body">
        
        <form id="payment-form" class="grid">
          <input type="hidden" id="payment-id">
          <label class="grid-span-2">Alias (Ej. "Tarjeta personal")
            <input id="pay-alias" name="alias" class="input" required>
          </label>
          <label class="grid-span-2">Nombre del Titular
            <input id="pay-name" name="cardholderName" class="input" required>
          </label>
          <label>Número de Tarjeta (Simulado)
            <input id="pay-number" name="cardNumber" class="input" required maxlength="19" placeholder="4242 4242 4242 4242">
          </label>
          <label>Fecha de Exp. (MM/AA)
            <input id="pay-expiry" name="expiryDate" class="input" required maxlength="5" placeholder="MM/AA">
          </label>
        </form>
        
      </div>
      <div class="modal__foot">
        <button class="btn" data-close-payment>Cancelar</button>
        <button id="save-payment" class="btn btn--primary">Guardar Método</button>
      </div>
    </div>
  </dialog>

  <div id="toasts" class="toasts"></div>
  <script src="OpcionesComprador.js"></script> 
</body>
</html>